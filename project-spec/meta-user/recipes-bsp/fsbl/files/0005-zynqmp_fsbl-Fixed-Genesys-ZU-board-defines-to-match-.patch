From 10b8c3c49fbdb88455bf176da4e8b5409957275c Mon Sep 17 00:00:00 2001
From: Elod Gyorgy <elod.gyorgy@digilent.ro>
Date: Thu, 20 Feb 2020 12:03:56 +0200
Subject: [PATCH 5/5] zynqmp_fsbl: Fixed Genesys ZU board defines to match
 board defintion files.

---
 lib/sw_apps/zynqmp_fsbl/src/spi_gpio.c    | 4 ++--
 lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.c | 4 ++--
 lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.h | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/lib/sw_apps/zynqmp_fsbl/src/spi_gpio.c b/lib/sw_apps/zynqmp_fsbl/src/spi_gpio.c
index 48d2c88d4..02dd26415 100644
--- a/lib/sw_apps/zynqmp_fsbl/src/spi_gpio.c
+++ b/lib/sw_apps/zynqmp_fsbl/src/spi_gpio.c
@@ -28,7 +28,7 @@
 #include "xspips.h"
 #include "sleep.h"
 
-#ifdef XPS_BOARD_GZU
+#if defined(XPS_BOARD_GZU_3EG) || defined(XPS_BOARD_GZU_5EV)
 //MCP23S08
 #define SCLK_MAX_FREQ 10000000
 #define MCP23S08_READ 1
@@ -177,4 +177,4 @@ XStatus SpiGpioWriteReg(u8 reg, u8 value)
 
 	return XST_SUCCESS;
 }
-#endif//XPS_BOARD_GZU
+#endif//defined(XPS_BOARD_GZU_3EG) || defined(XPS_BOARD_GZU_5EV)
diff --git a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.c b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.c
index 5010c003c..37e663b58 100644
--- a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.c
+++ b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.c
@@ -765,7 +765,7 @@ static void XFsbl_PcieReset(void)
 }
 #endif
 #endif
-#if defined(XPS_BOARD_GZU)
+#if defined(XPS_BOARD_GZU_3EG) || defined(XPS_BOARD_GZU_5EV)
 #include "sleep.h"
 #include "xgpiops.h"
 /*
@@ -880,7 +880,7 @@ u32 XFsbl_BoardInit(void)
 #if defined(XPS_BOARD_ZCU102)
 	XFsbl_PcieReset();
 #endif
-#elif defined(XPS_BOARD_GZU)
+#elif defined(XPS_BOARD_GZU_3EG) || defined(XPS_BOARD_GZU_5EV)
 	XFsbl_Printf(DEBUG_INFO,"Digilent Genesys ZU board-specific init\n\r");
 	Status = InitGpios();
 #else
diff --git a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.h b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.h
index 55e8d60d1..e9155982b 100644
--- a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.h
+++ b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_board.h
@@ -198,7 +198,7 @@ typedef struct XVoutCommands {
 /************************** Function Prototypes ******************************/
 #endif
 
-#if defined(XPS_BOARD_GZU)
+#if defined(XPS_BOARD_GZU_3EG) || defined(XPS_BOARD_GZU_5EV)
 #include "xgpiops_hw.h"
 #include "spi_gpio.h"
 /*
-- 
2.26.0.windows.1

